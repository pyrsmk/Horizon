<!DOCTYPE html>
<html>
	<head>
		<title>Horizon</title>
		<meta charset="utf-8">
		<style>
			body {
				margin: 0;
			}
			
			.layout {
				width: 100%;
				height: 2000px;
			}
			
			.scene {
				position: fixed;
				left: 0;
				top: 0;
			}
			
			img {
				display: none;
			}
		</style>
		<script src="node_modules/pyrsmk-quark/quark.min.js"></script>
		<script src="../build/unminified/Horizon.js"></script>
		<script src="../build/unminified/GsapEngine.js"></script>
		<script src="../build/unminified/Canvas2dEngine.js"></script>
		<script src="../build/unminified/ScrollInput.js"></script>
	</head>
	<body>
		<div class="layout"></div>
		<img src="images/rock.png">
		<canvas class="scene"></canvas>
		<script>
			
			var $ = quark.$,
				$$ = quark.$$;
			
			Horizon.detectLayout();
			
			$('.scene').node.width = Horizon.viewport.width;
			$('.scene').node.height = Horizon.viewport.height;
			
			var img = {
				node: $('img').node,
				left: (Horizon.layout.width - $('img').node.naturalWidth) / 2,
				top: -300,
				rotate: 0
			};
			
			Horizon.initCanvas2D($('.scene').node, [img]);
			
			Horizon.scroll(img, function(args) {
				return {
					top: args.y * 1.2 - 300,
					rotate: - args.y * 360 / Horizon.viewport.height
				};
			});
			
		</script>
	</body>
</html>
